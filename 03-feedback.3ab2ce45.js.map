{"mappings":"iiBAAA,IAyBQA,EAzBRC,EAAAC,EAAA,SACMC,EAAUC,SAASC,cAAc,kBACjCC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAiB,sBACvBL,EAAQM,iBAAiB,QAASC,EAAAT,EAAA,EAGlC,SAAoBU,GAClB,IAAMC,EAAmB,CACvBC,eAAgB,CACdC,MAAOR,EAAMS,MACbC,QAAST,EAAQQ,QAGrBE,aAAaC,QAAQV,EAAgBW,KAAKC,UAAUR,MAVC,MACvDT,EAAQM,iBAAiB,UAWzB,SAAuBE,GACrBA,EAAEU,iBACFC,QAAQC,IAAIN,aAAaO,QAAQhB,IACjCS,aAAaQ,WAAWjB,GACxBL,EAAQuB,YAIF1B,EAAgBmB,KAAKQ,MAAMV,aAAaO,QAAQhB,MAEpDF,EAAMS,MAAQf,EAAcc,MAC5BP,EAAQQ,MAAQf,EAAcgB,UAE9BV,EAAMS,MAAQ,GACdR,EAAQQ,MAAQ","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst formRef = document.querySelector('.feedback-form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\nconst keyOfLocalStor = 'feedback-form-state';\nformRef.addEventListener('input', throttle(textReader, 500));\nformRef.addEventListener('submit', handlerSubmit);\n\nfunction textReader(e) {\n  const objectLocStorage = {\n    keyOfLocalStor: {\n      email: email.value,\n      message: message.value,\n    }\n  };\n  localStorage.setItem(keyOfLocalStor, JSON.stringify(objectLocStorage));\n}\nfunction handlerSubmit(e) {\n  e.preventDefault();\n  console.log(localStorage.getItem(keyOfLocalStor));\n  localStorage.removeItem(keyOfLocalStor);\n  formRef.reset();\n}\nupdateForm();\nfunction updateForm() {\n  const startFormText = JSON.parse(localStorage.getItem(keyOfLocalStor));\n  if (startFormText) {\n    email.value = startFormText.email;\n    message.value = startFormText.message;\n  } else {\n    email.value = '';\n    message.value = '';\n  }\n}\n"],"names":["startFormText","$dCfNN","parcelRequire","$b00c40859be242c5$var$formRef","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$keyOfLocalStor","addEventListener","$parcel$interopDefault","e","objectLocStorage","keyOfLocalStor","email","value","message","localStorage","setItem","JSON","stringify","preventDefault","console","log","getItem","removeItem","reset","parse"],"version":3,"file":"03-feedback.3ab2ce45.js.map"}